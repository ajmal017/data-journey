digraph { 
"warnings(0)$0" -> "warnings(0)" [label = "simplefilter"]
"warnings(0)$1" -> "warnings(0)$0" [label = "simplefilter"]
"warnings(0)$2" -> "warnings(0)$1" [label = "simplefilter"]
"FEATS_EXCLUDED(0)$0" -> "[<_ast.Str object at 0x10a1042d0>, <_ast.Str object at 0x10a104290>, <_ast.Str object at 0x10a104e50>, <_ast.Str object at 0x10a104a10>, <_ast.Str object at 0x10a104550>, <_ast.Str object at 0x10a1046d0>, <_ast.Str object at 0x10a104a90>, <_ast.Str object at 0x10a104790>, <_ast.Str object at 0x10a1043d0>, <_ast.Str object at 0x10a104350>, <_ast.Str object at 0x10a104d50>, <_ast.Str object at 0x10a104210>](0)" [label = "eq"]
"title(1)" -> "timer[0]" [label = "_argToVar"]
"t0(1)$0" -> "time(1)" [label = "time"]
"print[0]" -> "{} - done in {:.0f}s(1)" [label = "print"]
"print[1]" -> "title(1)" [label = "print"]
"print[2]" -> "time(1)" [label = "print"]
"print[3]" -> "t0(1)$0" [label = "print"]
"y_true(2)" -> "rmse[0]" [label = "_argToVar"]
"y_pred(2)" -> "rmse[1]" [label = "_argToVar"]
"df(3)" -> "one_hot_encoder[0]" [label = "_argToVar"]
"nan_as_category(3)" -> "one_hot_encoder[1]" [label = "_argToVar"]
"original_columns(3)$0" -> "df(3)" [label = "list"]
"categorical_columns(3)$0" -> "col(3)" [label = "eq"]
"categorical_columns(3)$0" -> "col(3)" [label = "eq"]
"categorical_columns(3)$0" -> "df(3)" [label = "eq"]
"categorical_columns(3)$0" -> "df(3)" [label = "eq"]
"categorical_columns(3)$0" -> "col(3)" [label = "eq"]
"categorical_columns(3)$0" -> "object(3)" [label = "eq"]
"df(3)$0" -> "pd(3)" [label = "get_dummies"]
"df(3)$0" -> "df(3)$0" [label = "get_dummies"]
"df(3)$0" -> "categorical_columns(3)$0" [label = "get_dummies"]
"df(3)$0" -> "nan_as_category(3)" [label = "get_dummies"]
"new_columns(3)$0" -> "c(3)" [label = "eq"]
"new_columns(3)$0" -> "c(3)" [label = "eq"]
"new_columns(3)$0" -> "df(3)$0" [label = "eq"]
"new_columns(3)$0" -> "c(3)" [label = "eq"]
"new_columns(3)$0" -> "original_columns(3)$0" [label = "eq"]
"feature_importance_df_(4)" -> "display_importances[0]" [label = "_argToVar"]
"cols(4)$0" -> "feature_importance_df_(4)" [label = "eq"]
"cols(4)$0" -> "[<_ast.Str object at 0x10a113710>, <_ast.Str object at 0x10a113250>](4)" [label = "eq"]
"cols(4)$0" -> "feature(4)" [label = "eq"]
"cols(4)$0" -> "importance(4)" [label = "eq"]
"cols(4)$0" -> "40(4)" [label = "eq"]
"best_features(4)$0" -> "feature_importance_df_(4)" [label = "eq"]
"best_features(4)$0" -> "feature_importance_df_(4)" [label = "eq"]
"best_features(4)$0" -> "cols(4)$0" [label = "eq"]
"plt(4)$0" -> "plt(4)" [label = "figure"]
"sns(4)$0" -> "sns(4)" [label = "barplot"]
"plt(4)$1" -> "plt(4)$0" [label = "title"]
"plt(4)$1" -> "LightGBM Features (avg over folds)(4)" [label = "title"]
"plt(4)$2" -> "plt(4)$1" [label = "tight_layout"]
"plt(4)$3" -> "plt(4)$2" [label = "savefig"]
"plt(4)$3" -> "lgbm_importances.png(4)" [label = "savefig"]
"df(5)" -> "reduce_mem_usage[0]" [label = "_argToVar"]
"verbose(5)" -> "reduce_mem_usage[1]" [label = "_argToVar"]
"numerics(5)$0" -> "[<_ast.Str object at 0x10a22f510>, <_ast.Str object at 0x10a22fc10>, <_ast.Str object at 0x10a22f110>, <_ast.Str object at 0x10a172a10>, <_ast.Str object at 0x10a172710>, <_ast.Str object at 0x10a172b50>](5)" [label = "eq"]
"start_mem(5)$0" -> "df(5)" [label = "Div"]
"start_mem(5)$0" -> "1024(5)" [label = "Div"]
"start_mem(5)$0" -> "2(5)" [label = "Div"]
"col(5)" -> "df(5)" [label = "Iter"]
"col_type(5)$0" -> "df(5)" [label = "eq"]
"col_type(5)$0" -> "col(5)" [label = "eq"]
"c_min(5)$0" -> "df(5)" [label = "min"]
"c_min(5)$0" -> "col(5)" [label = "min"]
"c_max(5)$0" -> "df(5)" [label = "max"]
"c_max(5)$0" -> "col(5)" [label = "max"]
"df(5)$0" -> "df(5)" [label = "astype"]
"df(5)$0" -> "df(5)" [label = "astype"]
"df(5)$0" -> "col(5)" [label = "astype"]
"df(5)$0" -> "np(5)" [label = "astype"]
"df(5)$1" -> "df(5)$0" [label = "astype"]
"df(5)$1" -> "df(5)$0" [label = "astype"]
"df(5)$1" -> "col(5)" [label = "astype"]
"df(5)$1" -> "np(5)" [label = "astype"]
"df(5)$2" -> "df(5)$1" [label = "astype"]
"df(5)$2" -> "df(5)$1" [label = "astype"]
"df(5)$2" -> "col(5)" [label = "astype"]
"df(5)$2" -> "np(5)" [label = "astype"]
"df(5)$3" -> "df(5)$2" [label = "astype"]
"df(5)$3" -> "df(5)$2" [label = "astype"]
"df(5)$3" -> "col(5)" [label = "astype"]
"df(5)$3" -> "np(5)" [label = "astype"]
"df(5)$4" -> "df(5)$3" [label = "astype"]
"df(5)$4" -> "df(5)$3" [label = "astype"]
"df(5)$4" -> "col(5)" [label = "astype"]
"df(5)$4" -> "np(5)" [label = "astype"]
"df(5)$5" -> "df(5)$4" [label = "astype"]
"df(5)$5" -> "df(5)$4" [label = "astype"]
"df(5)$5" -> "col(5)" [label = "astype"]
"df(5)$5" -> "np(5)" [label = "astype"]
"df(5)$6" -> "df(5)$5" [label = "astype"]
"df(5)$6" -> "df(5)$5" [label = "astype"]
"df(5)$6" -> "col(5)" [label = "astype"]
"df(5)$6" -> "np(5)" [label = "astype"]
"end_mem(5)$0" -> "df(5)$6" [label = "Div"]
"end_mem(5)$0" -> "1024(5)" [label = "Div"]
"end_mem(5)$0" -> "2(5)" [label = "Div"]
"print[0]" -> "Mem. usage decreased to {:5.2f} Mb ({:.1f}% reduction)(5)" [label = "print"]
"print[1]" -> "end_mem(5)$0" [label = "print"]
"print[2]" -> "100(5)" [label = "print"]
"print[3]" -> "start_mem(5)$0" [label = "print"]
"print[4]" -> "end_mem(5)$0" [label = "print"]
"print[5]" -> "start_mem(5)$0" [label = "print"]
"train_df(6)$0" -> "pd(6)" [label = "read_csv"]
"train_df(6)$0" -> "../input/elo-blending/train_feature.csv(6)" [label = "read_csv"]
"test_df(6)$0" -> "pd(6)" [label = "read_csv"]
"test_df(6)$0" -> "../input/elo-blending/test_feature.csv(6)" [label = "read_csv"]
"display[0]" -> "train_df(6)$0" [label = "display"]
"display[0]" -> "test_df(6)$0" [label = "display"]
"print[0]" -> "train_df(6)$0" [label = "print"]
"print[1]" -> "test_df(6)$0" [label = "print"]
"train(6)$0" -> "pd(6)" [label = "read_csv"]
"train(6)$0" -> "../input/elo-merchant-category-recommendation/train.csv(6)" [label = "read_csv"]
"train(6)$0" -> "[<_ast.Str object at 0x10a11b5d0>](6)" [label = "read_csv"]
"test(6)$0" -> "pd(6)" [label = "read_csv"]
"test(6)$0" -> "../input/elo-merchant-category-recommendation/test.csv(6)" [label = "read_csv"]
"test(6)$0" -> "[<_ast.Str object at 0x10a11b990>](6)" [label = "read_csv"]
"train_df(6)$1" -> "train_df(6)$0" [label = "eq"]
"train_df(6)$1" -> "train(6)$0" [label = "eq"]
"test_df(6)$1" -> "test_df(6)$0" [label = "eq"]
"test_df(6)$1" -> "test(6)$0" [label = "eq"]
"train_df(6)$2" -> "train_df(6)$1" [label = "eq"]
"train_df(6)$2" -> "train_df(6)$1" [label = "eq"]
"train_df(6)$2" -> "card_id(6)" [label = "eq"]
"test_df(6)$2" -> "test_df(6)$1" [label = "eq"]
"test_df(6)$2" -> "test_df(6)$1" [label = "eq"]
"test_df(6)$2" -> "card_id(6)" [label = "eq"]
"display[0]" -> "train_df(6)$2" [label = "display"]
"display[0]" -> "test(6)$0" [label = "display"]
"print[0]" -> "train(6)$0" [label = "print"]
"print[1]" -> "test(6)$0" [label = "print"]
"print[0]" -> "gc(0)" [label = "print"]
"boosting(0)$0" -> "[<_ast.Str object at 0x10a23d510>, <_ast.Str object at 0x10a23d490>](0)" [label = "eq"]
"boosting(0)$1" -> "[<_ast.Str object at 0x10a23d7d0>, <_ast.Str object at 0x10a23dad0>](0)" [label = "eq"]
"train_df(7)" -> "kfold_lightgbm[0]" [label = "_argToVar"]
"test_df(7)" -> "kfold_lightgbm[1]" [label = "_argToVar"]
"num_folds(7)" -> "kfold_lightgbm[2]" [label = "_argToVar"]
"stratified(7)" -> "kfold_lightgbm[3]" [label = "_argToVar"]
"boosting(7)" -> "kfold_lightgbm[4]" [label = "_argToVar"]
"print[0]" -> "Starting LightGBM. Train shape: {}, test shape: {}(7)" [label = "print"]
"print[1]" -> "train_df(7)" [label = "print"]
"print[2]" -> "test_df(7)" [label = "print"]
"folds(7)$0" -> "num_folds(7)" [label = "StratifiedKFold"]
"folds(7)$0" -> "326(7)" [label = "StratifiedKFold"]
"folds(7)$1" -> "num_folds(7)" [label = "KFold"]
"folds(7)$1" -> "2045(7)" [label = "KFold"]
"oof_preds(7)$0" -> "np(7)" [label = "zeros"]
"oof_preds(7)$0" -> "train_df(7)" [label = "zeros"]
"oof_preds(7)$0" -> "0(7)" [label = "zeros"]
"sub_preds(7)$0" -> "np(7)" [label = "zeros"]
"sub_preds(7)$0" -> "test_df(7)" [label = "zeros"]
"sub_preds(7)$0" -> "0(7)" [label = "zeros"]
"feature_importance_df(7)$0" -> "pd(7)" [label = "DataFrame"]
"feats(7)$0" -> "f(7)" [label = "eq"]
"feats(7)$0" -> "f(7)" [label = "eq"]
"feats(7)$0" -> "train_df(7)" [label = "eq"]
"feats(7)$0" -> "f(7)" [label = "eq"]
"feats(7)$0" -> "FEATS_EXCLUDED(7)" [label = "eq"]
"n_fold(7)" -> "enumerate(7)" [label = "Iter"]
"train_idx(7)" -> "enumerate(7)" [label = "Iter"]
"valid_idx(7)" -> "enumerate(7)" [label = "Iter"]
"n_fold(7)" -> "folds(7)$1" [label = "Iter"]
"train_idx(7)" -> "folds(7)$1" [label = "Iter"]
"valid_idx(7)" -> "folds(7)$1" [label = "Iter"]
"n_fold(7)" -> "train_df(7)" [label = "Iter"]
"train_idx(7)" -> "train_df(7)" [label = "Iter"]
"valid_idx(7)" -> "train_df(7)" [label = "Iter"]
"n_fold(7)" -> "feats(7)$0" [label = "Iter"]
"train_idx(7)" -> "feats(7)$0" [label = "Iter"]
"valid_idx(7)" -> "feats(7)$0" [label = "Iter"]
"n_fold(7)" -> "train_df(7)" [label = "Iter"]
"train_idx(7)" -> "train_df(7)" [label = "Iter"]
"valid_idx(7)" -> "train_df(7)" [label = "Iter"]
"n_fold(7)" -> "outliers(7)" [label = "Iter"]
"train_idx(7)" -> "outliers(7)" [label = "Iter"]
"valid_idx(7)" -> "outliers(7)" [label = "Iter"]
"train_x(7)$0" -> "train_df(7)" [label = "eq"]
"train_y(7)$0" -> "train_df(7)" [label = "eq"]
"train_x(7)$0" -> "feats(7)$0" [label = "eq"]
"train_y(7)$0" -> "feats(7)$0" [label = "eq"]
"train_x(7)$0" -> "train_idx(7)" [label = "eq"]
"train_y(7)$0" -> "train_idx(7)" [label = "eq"]
"train_x(7)$0" -> "train_df(7)" [label = "eq"]
"train_y(7)$0" -> "train_df(7)" [label = "eq"]
"train_x(7)$0" -> "target(7)" [label = "eq"]
"train_y(7)$0" -> "target(7)" [label = "eq"]
"train_x(7)$0" -> "train_idx(7)" [label = "eq"]
"train_y(7)$0" -> "train_idx(7)" [label = "eq"]
"valid_x(7)$0" -> "train_df(7)" [label = "eq"]
"valid_y(7)$0" -> "train_df(7)" [label = "eq"]
"valid_x(7)$0" -> "feats(7)$0" [label = "eq"]
"valid_y(7)$0" -> "feats(7)$0" [label = "eq"]
"valid_x(7)$0" -> "valid_idx(7)" [label = "eq"]
"valid_y(7)$0" -> "valid_idx(7)" [label = "eq"]
"valid_x(7)$0" -> "train_df(7)" [label = "eq"]
"valid_y(7)$0" -> "train_df(7)" [label = "eq"]
"valid_x(7)$0" -> "target(7)" [label = "eq"]
"valid_y(7)$0" -> "target(7)" [label = "eq"]
"valid_x(7)$0" -> "valid_idx(7)" [label = "eq"]
"valid_y(7)$0" -> "valid_idx(7)" [label = "eq"]
"lgb_train(7)$0" -> "lgb(7)" [label = "Dataset"]
"lgb_train(7)$0" -> "train_x(7)$0" [label = "Dataset"]
"lgb_train(7)$0" -> "train_y(7)$0" [label = "Dataset"]
"lgb_test(7)$0" -> "lgb(7)" [label = "Dataset"]
"lgb_test(7)$0" -> "valid_x(7)$0" [label = "Dataset"]
"lgb_test(7)$0" -> "valid_y(7)$0" [label = "Dataset"]
"params(7)$0" -> "task(7)" [label = "eq"]
"params(7)$0" -> "boosting(7)" [label = "eq"]
"params(7)$0" -> "objective(7)" [label = "eq"]
"params(7)$0" -> "metric(7)" [label = "eq"]
"params(7)$0" -> "learning_rate(7)" [label = "eq"]
"params(7)$0" -> "subsample(7)" [label = "eq"]
"params(7)$0" -> "max_depth(7)" [label = "eq"]
"params(7)$0" -> "top_rate(7)" [label = "eq"]
"params(7)$0" -> "num_leaves(7)" [label = "eq"]
"params(7)$0" -> "min_child_weight(7)" [label = "eq"]
"params(7)$0" -> "other_rate(7)" [label = "eq"]
"params(7)$0" -> "reg_alpha(7)" [label = "eq"]
"params(7)$0" -> "colsample_bytree(7)" [label = "eq"]
"params(7)$0" -> "min_split_gain(7)" [label = "eq"]
"params(7)$0" -> "reg_lambda(7)" [label = "eq"]
"params(7)$0" -> "min_data_in_leaf(7)" [label = "eq"]
"params(7)$0" -> "verbose(7)" [label = "eq"]
"params(7)$0" -> "seed(7)" [label = "eq"]
"params(7)$0" -> "bagging_seed(7)" [label = "eq"]
"params(7)$0" -> "drop_seed(7)" [label = "eq"]
"params(7)$0" -> "train(7)" [label = "eq"]
"params(7)$0" -> "goss(7)" [label = "eq"]
"params(7)$0" -> "regression(7)" [label = "eq"]
"params(7)$0" -> "rmse(7)" [label = "eq"]
"params(7)$0" -> "0.005(7)" [label = "eq"]
"params(7)$0" -> "0.9855232997390695(7)" [label = "eq"]
"params(7)$0" -> "8(7)" [label = "eq"]
"params(7)$0" -> "0.9064148448434349(7)" [label = "eq"]
"params(7)$0" -> "87(7)" [label = "eq"]
"params(7)$0" -> "41.9612869171337(7)" [label = "eq"]
"params(7)$0" -> "0.0721768246018207(7)" [label = "eq"]
"params(7)$0" -> "9.677537745007898(7)" [label = "eq"]
"params(7)$0" -> "0.5665320670155495(7)" [label = "eq"]
"params(7)$0" -> "9.820197773625843(7)" [label = "eq"]
"params(7)$0" -> "8.2532317400459(7)" [label = "eq"]
"params(7)$0" -> "21(7)" [label = "eq"]
"params(7)$0" -> "1(7)" [label = "eq"]
"params(7)$0" -> "int(7)" [label = "eq"]
"params(7)$0" -> "2(7)" [label = "eq"]
"params(7)$0" -> "n_fold(7)" [label = "eq"]
"params(7)$0" -> "int(7)" [label = "eq"]
"params(7)$0" -> "2(7)" [label = "eq"]
"params(7)$0" -> "n_fold(7)" [label = "eq"]
"params(7)$0" -> "int(7)" [label = "eq"]
"params(7)$0" -> "2(7)" [label = "eq"]
"params(7)$0" -> "n_fold(7)" [label = "eq"]
"reg(7)$0" -> "lgb(7)" [label = "train"]
"reg(7)$0" -> "params(7)$0" [label = "train"]
"reg(7)$0" -> "lgb_train(7)$0" [label = "train"]
"reg(7)$0" -> "[<_ast.Name object at 0x10b01a890>, <_ast.Name object at 0x10b01a350>](7)" [label = "train"]
"reg(7)$0" -> "[<_ast.Str object at 0x10b01aa90>, <_ast.Str object at 0x10b01aad0>](7)" [label = "train"]
"reg(7)$0" -> "10000(7)" [label = "train"]
"reg(7)$0" -> "200(7)" [label = "train"]
"reg(7)$0" -> "100(7)" [label = "train"]
"oof_preds(7)$1" -> "oof_preds(7)$0" [label = "predict"]
"oof_preds(7)$1" -> "reg(7)$0" [label = "predict"]
"oof_preds(7)$1" -> "valid_x(7)$0" [label = "predict"]
"oof_preds(7)$1" -> "reg(7)$0" [label = "predict"]
"sub_preds(7)$1" -> "reg(7)$0" [label = "Add"]
"sub_preds(7)$1" -> "sub_preds(7)$0" [label = "Add"]
"sub_preds(7)$1" -> "test_df(7)" [label = "Add"]
"sub_preds(7)$1" -> "sub_preds(7)$0" [label = "Add"]
"sub_preds(7)$1" -> "feats(7)$0" [label = "Add"]
"sub_preds(7)$1" -> "sub_preds(7)$0" [label = "Add"]
"sub_preds(7)$1" -> "reg(7)$0" [label = "Add"]
"sub_preds(7)$1" -> "sub_preds(7)$0" [label = "Add"]
"sub_preds(7)$1" -> "folds(7)$1" [label = "Add"]
"sub_preds(7)$1" -> "sub_preds(7)$0" [label = "Add"]
"fold_importance_df(7)$0" -> "pd(7)" [label = "DataFrame"]
"fold_importance_df(7)$1" -> "fold_importance_df(7)$0" [label = "eq"]
"fold_importance_df(7)$1" -> "feats(7)$0" [label = "eq"]
"fold_importance_df(7)$2" -> "fold_importance_df(7)$1" [label = "log1p"]
"fold_importance_df(7)$2" -> "np(7)" [label = "log1p"]
"fold_importance_df(7)$2" -> "reg(7)$0" [label = "log1p"]
"fold_importance_df(7)$2" -> "gain(7)" [label = "log1p"]
"fold_importance_df(7)$2" -> "reg(7)$0" [label = "log1p"]
"fold_importance_df(7)$3" -> "fold_importance_df(7)$2" [label = "Add"]
"fold_importance_df(7)$3" -> "n_fold(7)" [label = "Add"]
"fold_importance_df(7)$3" -> "1(7)" [label = "Add"]
"feature_importance_df(7)$1" -> "pd(7)" [label = "concat"]
"feature_importance_df(7)$1" -> "[<_ast.Name object at 0x10a1108d0>, <_ast.Name object at 0x10a110d90>](7)" [label = "concat"]
"feature_importance_df(7)$1" -> "0(7)" [label = "concat"]
"print[0]" -> "Fold %2d RMSE : %.6f(7)" [label = "print"]
"print[1]" -> "n_fold(7)" [label = "print"]
"print[2]" -> "1(7)" [label = "print"]
"print[3]" -> "rmse(7)" [label = "print"]
"print[4]" -> "valid_y(7)$0" [label = "print"]
"print[5]" -> "oof_preds(7)$1" [label = "print"]
"print[6]" -> "valid_idx(7)" [label = "print"]
"gc(7)$0" -> "gc(7)" [label = "collect"]
"display_importances[0]" -> "feature_importance_df(7)$1" [label = "display_importances"]
"submission(7)$0" -> "pd(7)" [label = "read_csv"]
"submission(7)$0" -> "../input/elo-merchant-category-recommendation/sample_submission.csv(7)" [label = "read_csv"]
"submission(7)$1" -> "submission(7)$0" [label = "eq"]
"submission(7)$1" -> "sub_preds(7)$1" [label = "eq"]
"submission(7)$2" -> "submission(7)$1" [label = "to_csv"]
"submission(7)$2" -> "boosting(7)" [label = "to_csv"]
"submission(7)$2" -> ".csv(7)" [label = "to_csv"]
"display[0]" -> "submission(7)$2" [label = "display"]
"print[0]" -> "gc(0)" [label = "print"]
"submission(0)$0" -> "train_df(0)" [label = "kfold_lightgbm"]
"submission(0)$0" -> "test_df(0)" [label = "kfold_lightgbm"]
"submission(0)$0" -> "7(0)" [label = "kfold_lightgbm"]
"submission(0)$0" -> "boosting(0)$1" [label = "kfold_lightgbm"]
"submission(0)$0" -> "0(0)" [label = "kfold_lightgbm"]
"submission1(0)$0" -> "train_df(0)" [label = "kfold_lightgbm"]
"submission1(0)$0" -> "test_df(0)" [label = "kfold_lightgbm"]
"submission1(0)$0" -> "7(0)" [label = "kfold_lightgbm"]
"submission1(0)$0" -> "boosting(0)$1" [label = "kfold_lightgbm"]
"submission1(0)$0" -> "1(0)" [label = "kfold_lightgbm"]
"final(0)$0" -> "pd(0)" [label = "read_csv"]
"final(0)$0" -> "../input/elo-merchant-category-recommendation/sample_submission.csv(0)" [label = "read_csv"]
"final(0)$1" -> "final(0)$0" [label = "Add"]
"final(0)$1" -> "submission(0)$0" [label = "Add"]
"final(0)$1" -> "target(0)" [label = "Add"]
"final(0)$1" -> "0.5(0)" [label = "Add"]
"final(0)$1" -> "submission1(0)$0" [label = "Add"]
"final(0)$1" -> "target(0)" [label = "Add"]
"final(0)$1" -> "0.5(0)" [label = "Add"]
"final(0)$2" -> "final(0)$1" [label = "to_csv"]
"final(0)$2" -> "blend.csv(0)" [label = "to_csv"]
}